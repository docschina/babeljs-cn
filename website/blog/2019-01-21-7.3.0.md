---
layout: post
title:  "7.3.0 Released: Named capturing groups, private instance accessors and smart pipelines"
author: NicolÃ² Ribaudo
authorURL: https://twitter.com/NicoloRibaudo
date:   2019-01-21 16:00:00
categories: announcements
share_text: "Babel 7.3.0 Released"
---

ç»§ 80 æ¬¡æäº¤ä»¥åï¼Œæœ€æ–°çš„å°ç‰ˆæœ¬ Babel å‘ˆä¸Šï¼

æ­¤ç‰ˆæœ¬åŒ…æ‹¬å¯¹æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„å‘½åæ•è·ç»„ï¼ˆnamed capturing groupï¼‰ï¼Œç§æœ‰å®ä¾‹è®¿é—®å™¨ï¼ˆprivate instance accessorï¼‰ï¼Œæ™ºèƒ½ç®¡é“è¿ç®—ç¬¦ï¼ˆsmart pipeline operatorï¼‰ä»¥åŠå¯¹ TypeScript è§£æç›¸å…³ç­‰ä¸€ç³»åˆ—çš„æ”¹è¿›æ”¯æŒã€‚ä½ å¯ä»¥åœ¨ [GitHub](https://github.com/babel/babel/releases/tag/v7.3.0) ä¸Šé˜…è¯»æ•´ä¸ªæ›´æ–°æ—¥å¿—ï¼ˆchangelogï¼‰ã€‚

<!-- truncate -->

æ„Ÿè°¢ [@jamesgeorge007](https://github.com/jamesgeorge007) å’Œ [@armano2](https://github.com/armano2) ä»¥åŠä»–ä»¬çš„é¦–æ¬¡ PR!

[**Bloomberg**](https://github.com/bloomberg) æ­£ä¸º Babel ä¸­æ–° class åŠŸèƒ½çš„å®ç°æä¾›æ”¯æŒï¼šåœ¨ç»™æˆ‘ä»¬æä¾›äº†[é™æ€ç§æœ‰å­—æ®µï¼ˆstatic private fieldsï¼‰](https://babeljs.io/blog/2018/09/17/7.1.0#private-static-fields-stage-3)å’Œ[ç§æœ‰å®ä¾‹æ–¹æ³•ï¼ˆprivate instance methodsï¼‰](https://babeljs.io/blog/2018/12/03/7.2.0#private-instance-methods-8654-https-githubcom-babel-babel-pull-8654)åï¼Œä»–ä»¬åˆç›¸ç»§å®ç°äº†å®ä¾‹çš„ getter å’Œ setter æ–¹æ³•ã€‚

å¦ä¸€ä¸ªå¥½æ¶ˆæ¯æ˜¯ [AMP é¡¹ç›®](https://www.ampproject.org)ï¼Œå®ƒå°†å¯¹ Babel çš„èµåŠ©å¢åŠ åˆ° $24k/å¹´ï¼Œæˆä¸ºæ ¸å¿ƒèµåŠ©å•†ã€‚

å¦‚æœä½ æˆ–ä½ çš„å…¬å¸æƒ³è¦æ”¯æŒ Babel å’Œ JavaScript çš„å‘å±•ï¼Œä½†ä¸çŸ¥å¦‚ä½•åšï¼Œä½ å¯ä»¥é€šè¿‡ [OpenCollective](https://opencollective.com/babel) å‘æˆ‘ä»¬ææ¬¾ï¼Œæ›´å¥½çš„ä¸€ç§é€‰æ‹©æ˜¯ç›´æ¥ä¸æˆ‘ä»¬åˆä½œå®ç°æ–°çš„ [ECMAScript ææ¡ˆ](https://github.com/babel/proposals)ï¼ä½œä¸ºä¸€ä¸ªå¿—æ„¿è€…é©±åŠ¨çš„é¡¹ç›®ï¼Œæˆ‘ä»¬ä¾é ç¤¾åŒºçš„æ”¯æŒæ¥èµ„åŠ©æˆ‘ä»¬çš„å·¥ä½œï¼Œä»¥å¸®åŠ©å¤§éƒ¨åˆ†çš„ JavaScript ç”¨æˆ·å¹¶è·å¾—ä»£ç çš„æ‰€æœ‰æƒã€‚

## äº®ç‚¹

### ç§æœ‰å®ä¾‹è®¿é—®å™¨ï¼ˆgetter å’Œ setterï¼‰ï¼ˆ[#9101](https://github.com/babel/babel/pull/9101)ï¼‰

```javascript
class Person {
  #firstname = "Babel";
  #lastname = "JS";
  
  get #name() {
    return this.#firstname + " " + this.#lastname;
  }
  
  sayHi() {
    alert(`Hi, ${this.#name}!`);
  }
}
```

æ„Ÿè°¢ [Tim](https://github.com/tim-mc) (Bloomberg) å®ç°äº†è¯¥ææ¡ˆï¼

å¦‚æœä½ è¿˜æœªåœ¨ Babel 7.2.0 ä¸­æ·»åŠ å®ƒï¼Œä½ å¯ä»¥é€šè¿‡åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ  `@babel/plugin-proposal-private-methods` æ¥æµ‹è¯•è¯¥åŠŸèƒ½ï¼Œæˆ–è€…ä½ å¯ä»¥åœ¨ [repl](https://babeljs.io/repl/build/master#?code_lz=MYGwhgzhAEAKCmAnCB7AdtA3gKGtAxAGYCWyALmmALbzQC80ARAEJgBG8IjA3LgeBArVaDRgCkAyjz58A5vDIFKNABQBKLHzyIFAV0QYyAC2IQAdEVKDltANRMH946YsChNXngC-MvBDAAngASxOqaeHhgIEhkKgAGIQA00AAkmM7m-DZeAIRxap7QPl5AA&presets=stage-3) å¯ç”¨ `stage-3` preset åœ¨çº¿æµ‹è¯•è¯¥åŠŸèƒ½ã€‚

ç±»ç§æœ‰åŒ–åŠŸèƒ½ï¼ˆclass private featureï¼‰çš„æ”¯æŒå·²åŸºæœ¬å®Œæˆï¼

<div style="margin: auto; width: fit-content">

| ç±»ç§æœ‰åŒ–  | **å®ç°** | **é™æ€** |
|----------------|--------------|------------|
| **Fields** <br/> `class A { #a = 1}`    | [7.0.0](https://babeljs.io/blog/2018/08/27/7.0.0#tc39-proposals-https-githubcom-tc39-proposals-support) | [7.1.0](https://babeljs.io/blog/2018/09/17/7.1.0#private-static-fields-stage-3) | 
| **æ–¹æ³•** <br/> `class A { #a() {} }`   | [7.2.0](https://babeljs.io/blog/2018/12/03/7.2.0#private-instance-methods-8654-https-githubcom-babel-babel-pull-8654) | âœ– |
| **è®¿é—®å™¨** <br/> `class A { get #a() {} }` | 7.3.0 | âœ– |

</div>

### æ™ºèƒ½ç®¡é“æ“ä½œç¬¦ï¼ˆ[#9179](https://github.com/babel/babel/pull/9179)ï¼‰

> Babel å®ç°äº†è¯¥[ææ¡ˆ](https://github.com/tc39/proposal-pipeline-operator/wiki#proposal-1-f-sharp-only)çš„å¤šç§å½¢å¼ï¼Œä»¥å¸®åŠ© TC39 æµ‹è¯•å¹¶æ”¶é›†ç¤¾åŒºçš„åé¦ˆå»ºè®®ã€‚ä¸æ‰€æœ‰ææ¡ˆä¸€æ ·ï¼Œé¢„è®¡åœ¨æœªæ¥ä¼šå‘ç”Ÿå˜åŒ–ã€‚

åœ¨ [Babel 7.2.0](https://babeljs.io/blog/2018/12/03/7.2.0#smart-pipeline-operator-parsing-8289-https-githubcom-babel-babel-pull-8289) ä¸­å¢åŠ äº†å¯¹ [æ™ºèƒ½ç®¡é“æ“ä½œç¬¦ï¼ˆsmart pipeline operator)](https://github.com/js-choi/proposal-smart-pipelines/) ææ¡ˆè§£æçš„æ”¯æŒã€‚æ„Ÿè°¢ [Thiago Arrais](https://github.com/thiagoarrais) æ‰€ä½œçš„å·¥ä½œï¼Œä½ ç°åœ¨å¯ä»¥å°†å…¶è½¬æ¢ä¸ºæ ‡å‡†çš„ ECMAScript å¹¶è¯•ç”¨å®ƒï¼

æˆ‘ä»¬ç›®å‰ä»…æ”¯æŒä¸»è¦ææ¡ˆï¼Œæš‚ä¸æ”¯æŒå…¶ä»–[ä»»ä½•é¢å¤–åŠŸèƒ½]((https://github.com/js-choi/proposal-smart-pipelines#additional-features))ã€‚å¦å¤–ï¼Œæˆ‘ä»¬è¿˜ä¸æ”¯æŒç®¡é“ä¸­ä½¿ç”¨ `yield` å’Œ `await`ã€‚

```javascript
name
  |> # || throw new TypeError()
  |> doubleSay(#, ', ')
  |> capitalize
  |> # + '!'
  |> new User.Message(#)
  |> stream.write(#, { sync: true })
  |> console.log;
```

ä½ å¯ä»¥åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨ `@babel/plugin-proposal-pipeline-operator` æ’ä»¶å¹¶å¯ç”¨ `proposal: "smart"` é€‰é¡¹ï¼Œæ¥ä½¿ç”¨è¯¥ææ¡ˆï¼š

```json
{
  "plugins": [
    ["@babel/plugin-proposal-pipeline-operator", { "proposal": "smart" }]
  ]
}
```

> åœ¨è¿™ä¹‹å‰ï¼ŒBabel é€šè¿‡ [#6335](https://github.com/babel/babel/pull/6335) åœ¨ [v7.0.0-beta.3] ä¸­æ·»åŠ äº†ä¸€ä¸ª"ç®€æ˜“"ç‰ˆæœ¬ææ¡ˆçš„å®ç°ã€‚

### å‘½åæ•è·ç»„ï¼ˆnamed capturing groupï¼‰ï¼ˆ[#7105](https://github.com/babel/babel/pull/7105)ï¼‰

```javascript
let stringRe = /(?<quote>"|')(?<contents>.*?)\k<quote>/;

let { contents } = `"foo bar"`.match(stringRe);
```

Babel ä¸­ ECMAScript 2018 åŠŸèƒ½ç¼ºå¤±æœ€å¤§çš„éƒ¨åˆ†å°±æ˜¯è¯¥åŠŸèƒ½ï¼åœ¨è¿™ä¹‹å‰ï¼Œ[Dmitry Soshnikov](https://twitter.com/DmitrySoshnikov) ä¸ºç¤¾åŒºæä¾›äº†å¾ˆæ£’çš„æ’ä»¶ [babel-plugin-transform-modern-regexp](https://github.com/DmitrySoshnikov/babel-plugin-transform-modern-regexp) å¯ä»¥è·å¾—å¯¹å‘½åç»„éƒ¨åˆ†åŠŸèƒ½çš„æ”¯æŒã€‚æˆ‘ä»¬è¿˜ä¸ `code-js` è¿›è¡Œäº†åè°ƒå·¥ä½œï¼Œä¸ºæ–°çš„ `@babel/plugin-transform-named-capturing-groups-regex` package æä¾›å…¨é¢æ”¯æŒã€‚

`@babel/preset-env` ä¹Ÿå·²ç»æ›´æ–°ï¼Œå¼•å…¥äº†è¯¥ packageï¼Œå› æ­¤ï¼Œå½“ä½¿ç”¨å®ƒæ—¶å¹¶ä¸éœ€è¦åšä»»ä½•æ”¹åŠ¨ï¼

æ³¨æ„ï¼Œè¿è¡Œæ—¶åŠŸèƒ½ï¼ˆå³ï¼š`groups` å±æ€§ï¼‰ä»…é€‚ç”¨äºå¯¹ ES6 æ­£åˆ™è¡¨è¾¾å¼æ­£ç¡®æ”¯æŒçš„æµè§ˆå™¨ã€‚å¦‚æœæ‚¨éœ€åœ¨æ—§çš„ç¯å¢ƒä¸­æ”¯æŒï¼Œå¯ä»¥åœ¨ `RegExp` çš„æ–¹æ³•ä¸­å¼•å…¥ polyfillã€‚

### TypeScript æ›´æ–° ï¼ˆ[#9302](https://github.com/babel/babel/pull/9302)ï¼Œ[#9309](https://github.com/babel/babel/pull/9309)ï¼‰

æ„Ÿè°¢ [Armano](https://github.com/armano2) åœ¨ `@babel/parser` ä¸­çš„å·¥ä½œä»¥åŠ [Henry](https://github.com/hzoo)/[Brian](https://github.com/existentialism) åœ¨ `@babel/generator` ä¸­çš„å·¥ä½œï¼ˆå›é¡¾[ç›´æ’­](https://www.youtube.com/watch?v=L-PxPBDUf6w&t=4s)ï¼‰ï¼Œæˆ‘ä»¬ç°åœ¨æ”¯æŒäº† `let x: typeof import('./x');`ï¼Œæ­¤åŠŸèƒ½æ·»åŠ äº [TypeScript 2.9](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-9.html) ä¸­ã€‚åŒæ—¶è¿˜æ”¯æŒäº† [TypeScript 3.2](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-2.html) ä¸­æ·»åŠ çš„ `bigint` ç±»å‹å…³é”®å­—ã€‚

### `babel-eslint` v11.0.0-beta.0ï¼šé€šè¿‡è¯»å–é…ç½®è‡ªåŠ¨è¿›è¡Œè¯­æ³•æ£€æµ‹ï¼ˆ[babel/babel-eslint#711](https://github.com/babel/babel-eslint/pull/711)ï¼‰

æ„Ÿè°¢ [Kai](https://github.com/kaicataldo) (è´Ÿè´£ TSC çš„ ESLint ç»´æŠ¤) å®Œæˆè¿™é¡¹å·¥ä½œï¼

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œ`babel-eslint` å·²æ‰‹åŠ¨å¯ç”¨æ‰€æœ‰è¯­æ³•æ’ä»¶ï¼ˆåˆ—è¡¨ç»å¸¸è¿‡æ—¶ï¼‰ã€‚å®ƒè¿˜æ„å‘³ç€å®ƒå¯ä»¥è§£æ Babel æœ¬èº«é…ç½®çš„å®ä¾‹ï¼Œåœ¨ç¼–è¯‘æ—¶ä¸å…è®¸çš„è¯­æ³•ã€‚æˆ‘ä»¬ç°åœ¨è¦å» `@babel/core` ä½œä¸º peerDependency ï¼Œå¹¶å‡è®¾åœ¨ä½¿ç”¨ `babel-eslint` æ—¶ä½¿ç”¨ Babel é…ç½®ï¼Œå¹¶ä½¿ç”¨ç›¸åŒçš„é…ç½®æ¥ä¿®æ”¹è‡ªèº«ï¼ˆä½¿å…¶æˆä¸ºä¸€ä¸ªé‡å¤§çš„å˜åŒ–ï¼‰ã€‚è¿™ç§æ”¹å˜æœ‰æœ›ä½¿ç»´æŠ¤æ¨¡å—æœ¬èº«æ›´æ˜“äºç®¡ç†ï¼Œå¹¶é‡æ–°ä½¿ç”¨ Babel é…ç½®ï¼Œè¿™æ˜¯ç”¨æˆ·ä½¿ç”¨ `babel-eslint` çš„åˆç†å‡è®¾ã€‚

ä½ å¯ä»¥é€šè¿‡æ£€æŸ¥æ­¤æµ‹è¯•ç‰ˆæ˜¯å¦é€‚ç”¨äºæ‚¨çš„é¡¹ç›®æ¥å¸®åŠ©æˆ‘ä»¬ ğŸ™‚

---

[åœ¨ Twitter ä¸Šè®¨è®º](https://twitter.com/search?q=https%3A%2F%2Fbabeljs.io%2Fblog%2F2019%2F01%2F21%2F7.3.0)