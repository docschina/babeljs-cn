<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>6.16.0 Released · Babel 中文文档</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p style=&quot;text-align:center&quot;&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="6.16.0 Released · Babel 中文文档"/><meta property="og:type" content="website"/><meta property="og:url" content="https://babel.docschina.org/blog/2016/09/28/6.16.0"/><meta property="og:description" content="&lt;p style=&quot;text-align:center&quot;&gt;"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow.min.css"/><link rel="alternate" type="application/atom+xml" href="https://babel.docschina.org/blog/atom.xml" title="Babel 中文文档 Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://babel.docschina.org/blog/feed.xml" title="Babel 中文文档 Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-114990275-1', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="/scripts/hmt.js" defer=""></script><script type="text/javascript" src="https://unpkg.com/clipboard@2.0.0/dist/clipboard.min.js" defer=""></script><script type="text/javascript" src="/js/code-blocks-buttons.js" defer=""></script><script type="text/javascript" src="/scripts/repl-page-hacks.js" defer=""></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/babel.svg" alt="Babel 中文文档"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://docschina.org/" target="_self">印记中文</a></li><li class=""><a href="/docs/en/" target="_self">文档</a></li><li class=""><a href="/setup" target="_self">配置</a></li><li class=""><a href="/repl" target="_self">试用</a></li><li class=""><a href="/videos" target="_self">视频</a></li><li class="siteNavGroupActive"><a href="/blog/" target="_self">博客</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://opencollective.com/babel" target="_self">赞助</a></li><li class=""><a href="/team" target="_self">团队</a></li><li class=""><a href="https://github.com/babel/babel" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>All Blog Posts</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">All Blog Posts</h3><ul class=""><li class="navListItem"><a class="navItem" href="/blog/2021/02/22/7.13.0">7.13.0 Released: Records and Tuples, granular compiler assumptions, and top-level targets</a></li><li class="navListItem"><a class="navItem" href="/blog/2020/10/15/7.12.0">7.12.0 Released: TypeScript 4.1, strings as import/export names, and class static blocks</a></li><li class="navListItem"><a class="navItem" href="/blog/2020/07/30/7.11.0">7.11.0 Released: ECMAScript 2021 support in preset-env, TypeScript 4.0 support, printing config and the future of `babel-eslint`</a></li><li class="navListItem"><a class="navItem" href="/blog/2020/07/13/the-state-of-babel-eslint">The State of babel-eslint</a></li><li class="navListItem"><a class="navItem" href="/blog/2020/05/25/7.10.0">7.10.0 Released: Class Fields in preset-env, &#x27;#private in&#x27; checks and better React tree-shaking</a></li><li class="navListItem"><a class="navItem" href="/blog/2020/03/16/7.9.0">7.9.0 Released: Smaller preset-env output, Typescript 3.8 support and a new JSX transform</a></li><li class="navListItem"><a class="navItem" href="/blog/2020/01/11/7.8.0">7.8.0 Released: ECMAScript 2020, .mjs configuration files and @babel/cli improvements</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/11/08/babels-funding-plans">Babel&#x27;s Funding Plans</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/11/05/7.7.0">7.7.0 Released: Error recovery and TypeScript 3.7</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/09/05/7.6.0">7.6.0 Released: Private static accessors and V8 intrinsic syntax</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/07/03/7.5.0">7.5.0 Released: dynamic import and F# pipelines</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/07/02/the-babel-podcast">The Babel Podcast</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/03/19/7.4.0">7.4.0 Released: core-js 3, static private methods and partial application</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/01/21/7.3.0">7.3.0 Released: Named capturing groups, private instance accessors and smart pipelines</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/12/03/7.2.0">7.2.0 发布：私有实例方法（Private Instance Methods）</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/09/17/decorators">在 Babel 中支持 TC39 标准的装饰器</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/09/17/7.1.0">7.1.0 Released: Decorators, Private Static Fields</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/08/27/7.0.0">Babel 7 发布</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/07/27/removing-babels-stage-presets">Removing Babel&#x27;s Stage Presets</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/07/19/whats-happening-with-the-pipeline-proposal">What&#x27;s Happening With the Pipeline (|&gt;) Proposal?</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/07/16/announcing-babels-new-partnership-with-trivago">Announcing Babel&#x27;s New Partnership with trivago!</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/06/26/on-consuming-and-publishing-es2015+-packages">On Consuming (and Publishing) ES2015+ Packages</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/12/27/nearing-the-7.0-release">Nearing the 7.0 Release</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/10/05/babel-turns-three">Babel Turns Three</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/09/12/planning-for-7.0">Planning for 7.0</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/09/11/zero-config-with-babel-macros">Zero-config code transformation with babel-plugin-macros</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/08/16/gsoc-karl-1">Contributing to Babel: Three Lessons to Remember</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/08/11/gsoc-peey-1">Personal Experiences at Babel #1 — A PR with Unusually High Number of Reviews</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/08/09/babel-and-summer-of-code">Babel and Summer of Code 2017</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/03/01/upgrade-to-babel-7">Upgrade to Babel 7 (moved)</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/03/01/upgrade-to-babel-7-for-tool-authors">Upgrade to Babel 7 for Tool Authors (WIP)</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/02/13/6.23.0">6.23.0 Released</a></li><li class="navListItem"><a class="navItem" href="/blog/2016/12/07/the-state-of-babel">The State of Babel</a></li><li class="navListItem"><a class="navItem" href="/blog/2016/11/16/6.19.0">6.19.0 Released</a></li><li class="navListItem"><a class="navItem" href="/blog/2016/10/24/6.18.0">6.18.0 Released</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/blog/2016/09/28/6.16.0">6.16.0 Released</a></li><li class="navListItem"><a class="navItem" href="/blog/2016/08/26/babili">Babili (babel-minify)</a></li><li class="navListItem"><a class="navItem" href="/blog/2016/08/24/6.14.0">6.14.0 Released</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/11/03/babel-doctor">Babel Doctor</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/10/31/setting-up-babel-6">Setting up Babel 6</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/10/29/6.0.0">6.0.0 Released</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/07/07/react-on-es6-plus">React on ES6+</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/05/14/function-bind">Function Bind Syntax</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/03/31/5.0.0">5.0.0 Released</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/02/23/babel-loves-react">Babel 喜爱 React</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/02/15/not-born-to-die">并非出生而逐渐走向灭亡</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/01/27/2to3">2to3</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/01/12/6to5-esnext">6to5 + esnext</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer postContainer blogContainer"><div class="wrapper"><div class="lonePost"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/blog/2016/09/28/6.16.0">6.16.0 Released</a></h1><p class="post-meta">September 28, 2016</p><div class="authorBlock"><p class="post-authorName"><a href="https://twitter.com/left_pad" target="_blank" rel="noreferrer noopener">Henry Zhu</a></p></div></header><div><span><p style="text-align:center">
Happy Birthday Babel 🎂 !
</p>
<!--truncate-->
<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Happy 2nd birthday <a href="https://twitter.com/babeljs">@babeljs</a></p>&mdash; Sebastian McKenzie (@sebmck) <a href="https://twitter.com/sebmck/status/781079584460697601">September 28, 2016</a></blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
<pre style="font: 10px/5px monospace;">
<pre><code class="hljs">                                  ```.```           ``````            ``````
                                 ````;````         ```:````          ```:````
                                ````:;`````       ````;,````        ````;,````
                               `````::,`````     ````:,:`````      ````:,:`````
                               ````:,,:`````     ````:.,,````      ````:.,,````
                               ````:..,.````    ````,,..:`````    ````,,..:`````
                               ```.,.`,:````    ````:.`.,`````    ````:.`.,`````
                               ```.,.`.:````    ````:.`.,.````    ````:.`.,.````
                               ```.,...:````     ``.:...,.```      ``.:...,.```
                                ::,,,.,,,:`      `:,,,.,,,:,       `:,,,.,,,::
                               :,,.......,:      :,.......,,,      :,.......,,:
                               :,.........,  ;++`............;++`  ,.........,:
                               :.````````.. '+'+'```````````,+'++` ..````````.:
                               ;,````````.,.+'''',`````````.,''++' ,.````````,:
                               ;,.`    ``.,++'''',.``    ``.,''''+,,.``    `.,:
                               :,.``  ```..+''''+,.```  ```.,'''++;,.```  ``.,:
                              `:,.``  ```..+''''',.```  ```.,''''+',.```  ``.,:
                              +,..``  ```..+++''+,.```  ```.,+''++;,.```  ``..:,
                            ,:+,.```  ```..++++++,.```  ```.,+++++.,.```  ```.,+,`
                          ,,.'',.```  ```.,`;+++',.```  ```.,+++'.`,.```  ```.,+.,:
                        `,,.`++,.```  ```.,``...`,.```  ```.,...```,.```  ```.,+`..,:
                       ,,..``'+,.```  ```.,``````,.```  ```.,``````,.```  ```.,+```.,:
                      :,.```.,+,.```  ```.,``````,.```  ```.,``````,.```  ```.,'.```..,`
                     :,.`````.,,.```  ```.,``````,.```  ```.,``````,.```  ```.,.``````.,
                    ,,.```````.,.```  ```.,``````,.```  ```.,``````,.```  ```.,```````..:
                    ,.`````````,.```  ```.,``````,.```  ```.,``````,.```  ```.,````````.,:
                   :,.```````` ,.```  ```.,``````,.```  ```.,``````,.```  ```., ````````.,
                   ,.```````.''+'```  ```., `````,.```  ```.,``````,.```  ``,''+'```````.,.
                   ,.```````+'''';``  ```., `````,.```  ``..,``````,.```  ``+'''';```````,:
                   ,.``````'+''''+``` ```.,``````,.``` ```..,``````,.``` ``'+''''+```````.:
                   ,.``````+'''''':`````.., `````,..`````..,,``````,..`````+'''''',``````,:
                   ,.``````+'''''+'.```..,````````,...``..,,````````,...``.+'''''+'`````.,,
                   :.``````+'''''+'......````   ```.......```   `````......+'''''+'`````.,
                   :.`````.+++++'+:.....````.''+' ```....```.''+' ````.....+++++'+:`````.,
                   ,,.````.:+++++'``````````+'''';``````````+'''';`````````,+++++'..````.,
                   .,.````..,;';,.`````````'+''''+ ````````'+''''+ `````````.:';:..`````.:
                    ,.``````....```````````+'''''', `````` +'''''',```````````...```````.:
                    ,.`````````````````````+'''''+'``````` +'''''+'````````````````````.,,
                    ,.`````````````````````+'''''+'````````+'''''+'````````````````````.,.
                    :.`````````````````````+++++'+:``` ````+++++'+:````````````````````.,`
                    :..````````````````````,+++++'```` ````,+++++'`````````````````````.,
                    ,,.`````````````````````.:';,.```   ````.:';,.`````````````````````.,
                    .,.```````````````````````````````   `````````````  ```````````````.:
                    `,.```````````````````` ```````       `````` `    ````````````````..:
                     ,..```````````````````                       ````````````````````.,:
                     ,...`````````````````````` ```        ```````````````````````````.,,
                     :....````````````````````````````````````````````````````````````.,.
                     :,.....`````````````````````````````````````````````````````````..,
                     :,......`````````````````````````````````````````````````````.....:
                     ,,........```````````````````````````````````````````````````.....:
                     .,........```````````````````````````````````````````````````....,:
                      ,..........```````````````````````````````````````````````......,:
                      :...........`````````````````````````````````````````````.......,:
                      :,...........````````````````````````````````````````````.......,,
                      :,..........``````````````````````````````````````````..........,`
                      :,............````````````````````````````````````````..........:
                      :,............````````````````````````````````````````.........,:
                      .,..............```````````````````````````````````............,:
                      `,,..............``````````````````````````````````............,:
                       :,...........`..````````````````````````````````..............,:
                       :,..............````````````````````````````````..............:.
                       ,,,.............```````````````````````````````..............,:
                        :,.............````````````````````````````````............,:,
                        `:,.............````````````````````````````..............,,:
                         .:,............```````````````````````````..............,::
                          .:,,..........````````````````````````````............,::
                            :,,..........````````````````````````.............,,:,
                             ,:,,.........``````````````````````............,,:;
                               ::,,........``````````````````.............,,::`
                                 ,::,,........``````.```.``............,,,:;`
                                    :::,,,........`.```............,,,:::.
                                       ,:::,,,,..............,,,,,::::`
                                           `.::::::,,,,,,,::::::,`
</code></pre>
</pre>
<p>It's hard to believe it's been 2 years already! Thanks so much to Sebastian for creating this amazing project!</p>
<p>We've grown a lot:</p>
<ul>
<li>200+ contributors</li>
<li>There's been ~113 releases since 6.0.0 and 512 release total.</li>
<li>~4.5 million downloads of <code>babel-core</code> in the last month</li>
<li>1400+ results for <code>babel-plugin</code> <a href="https://www.npmjs.com/search?q=babel-plugin">on npm</a></li>
<li>700+ results for <code>babel-preset</code> <a href="https://www.npmjs.com/search?q=babel-preset">on npm</a></li>
<li>4500+ users on our <a href="https://babeljs.slack.com">slack</a></li>
</ul>
<p>Thanks so much for using and contributing to our community!</p>
<p>If you haven't checked recently, we've moved back to <a href="https://github.com/babel/babel/issues">Github Issues</a>! This is all thanks to <a href="https://github.com/danez">@danez</a></p>
<p>Like most open source projects, Babel is maintained be just a few people working in their free time. We'll be working on making it easier to contribute in various ways (not just to the main codebase).</p>
<p>What Evan Czaplicki says in <a href="https://www.youtube.com/watch?list=PLglJM3BYAMPH2zuz1nbKHQyeawE4SN0Cd&amp;v=DSjbTC-hvqQ">Code is the Easy Part</a> is really relevant to any project, big or small. A big part of contributing is just talking, using, writing about the project.</p>
<p>To that point, we should setup a curated, up-to-date <a href="https://github.com/babel/babel.github.io/issues/27">Resources Page</a> and maybe a newsletter to talk about the awesome stuff people are making with Babel (a new plugin, a new tool, or just an idea).</p>
<p>Hopefully, we can work more with TC-39 like we do with t<a href="https://github.com/tc39/ecma262#current-proposals">tc39/ecma262#current-proposals</a> and our stage-x presets and plugins. We should look to run <a href="https://github.com/tc39/test262">test262</a> with Babel.</p>
<p>We've also released <a href="https://github.com/babel/babili">Babili, our minifier</a> and started work on <a href="https://github.com/babel/babel-preset-env">babel-preset-env, &quot;autoprefixer&quot; for Babel</a>.</p>
<p>The future of Babel is bright!</p>
<h2><a class="anchor" aria-hidden="true" id="-spec-compliancy"></a><a href="#-spec-compliancy" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>👓 Spec Compliancy</h2>
<p><a href="https://github.com/babel/babel/pull/3473">#3473</a> via <a href="https://github.com/babel/babel/pull/4576">#4576</a> Implement support for async generator functions and for-await statements. (<a href="https://github.com/zenparsing">@zenparsing</a>)</p>
<p>This change implements the <a href="https://github.com/tc39/proposal-async-iteration">async iteration proposal</a>, currently at stage 2 (and is planned to be pushed to stage 3 at the current TC-39 meeting). It includes the following features:</p>
<ul>
<li>Transforms async generator functions (<code>async function* g() { }</code>) to wrapped generator functions, similar to the current async-to-generator transform.</li>
</ul>
<pre><code class="hljs css language-js"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span>* <span class="hljs-title">agf</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">await</span> <span class="hljs-number">1</span>;
  <span class="hljs-keyword">yield</span> <span class="hljs-number">2</span>;
}
</code></pre>
<ul>
<li>Transforms <code>for-await</code> statements into for loops containing yield expressions.</li>
</ul>
<pre><code class="hljs css language-js"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">let</span> x <span class="hljs-keyword">of</span> y) {
    g(x);
  }
}
</code></pre>
<p>Example Usage</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span>* <span class="hljs-title">genAnswers</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> stream = [ <span class="hljs-built_in">Promise</span>.resolve(<span class="hljs-number">4</span>), <span class="hljs-built_in">Promise</span>.resolve(<span class="hljs-number">9</span>), <span class="hljs-built_in">Promise</span>.resolve(<span class="hljs-number">12</span>) ];
  <span class="hljs-keyword">var</span> total = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">let</span> val <span class="hljs-keyword">of</span> stream) {
    total += <span class="hljs-keyword">await</span> val;
    <span class="hljs-keyword">yield</span> total;
  }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forEach</span>(<span class="hljs-params">ai, fn</span>) </span>{
  <span class="hljs-keyword">return</span> ai.next().then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">r</span>) </span>{
    <span class="hljs-keyword">if</span> (!r.done) {
      fn(r);
      <span class="hljs-keyword">return</span> forEach(ai, fn);
    }
  });
}

<span class="hljs-keyword">var</span> output = <span class="hljs-number">0</span>;
<span class="hljs-keyword">return</span> forEach(genAnswers(), <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">val</span>) </span>{ output += val.value })
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  assert.equal(output, <span class="hljs-number">42</span>);
});
</code></pre>
<p><a href="https://github.com/babel/babel/pull/4500">#4500</a> Support computed class properties. (<a href="https://github.com/motiz88">@motiz88</a>)</p>
<p>Parser support was added in <a href="https://github.com/babel/babylon/releases/tag/v6.11.0">babylon@6.11.0</a> with <a href="https://github.com/babel/babylon/pull/121">babel/babylon#121</a></p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// Example</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> </span>{
  [x]
  [<span class="hljs-string">'y'</span>]
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Bar</span> </span>{
  [p]
  [m] () {}
}
</code></pre>
<p><a href="https://github.com/babel/babel/pull/3702">#3702</a> Flow: generate exact object type annotations. (<a href="https://github.com/bhosmer">@bhosmer</a>)</p>
<p>Parser support was added in <a href="https://github.com/babel/babylon/releases/tag/v6.10.0">babylon@6.10.0</a> with <a href="https://github.com/babel/babylon/pull/104">babel/babylon#104</a></p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// Example</span>
<span class="hljs-keyword">var</span> a : {| x: number, <span class="hljs-attr">y</span>: string |} = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-string">'foo'</span> };
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="-new-feature"></a><a href="#-new-feature" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>🚀 New Feature</h2>
<p><a href="https://github.com/babel/babel/pull/3561">#3561</a> <code>babel-core</code>: add options for a different parser or generator. (<a href="https://github.com/hzoo">@hzoo</a>)</p>
<p>Babel will now also take the options: <code>parserOpts</code> and <code>generatorOpts</code> (as objects).</p>
<p><code>parserOpts</code> will pass all properties down to the default <code>babylon</code> parser. You can also pass a <code>parser</code> option to substitute for a different parser.</p>
<p>This will allow passing down any of <code>babylon's</code> <a href="https://github.com/babel/babylon#options">options</a>:</p>
<pre><code class="hljs css language-js">{
  <span class="hljs-string">"parserOpts"</span>: {
    <span class="hljs-string">"allowImportExportEverywhere"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"allowReturnOutsideFunction"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"sourceType"</span>: <span class="hljs-string">"module"</span>,
    <span class="hljs-string">"plugins"</span>: [<span class="hljs-string">"flow"</span>]
  }
}
</code></pre>
<p>You can also pass down <code>parserOpts.parser</code> and <code>generatorOpts.generator</code>. This will enable the use of <a href="https://github.com/benjamn/recast">recast</a> with Babel.</p>
<p>Recast is used in <a href="https://github.com/facebook/jscodeshift">jscodeshift</a> which is a tool to create <a href="https://medium.com/@cpojer/effective-javascript-codemods-5a6686bb46fb#.kef4rnxpd">codemods</a>. You might know of these since the React team also <a href="https://github.com/reactjs/react-codemod/">publishes them</a> to help convert between React releases.</p>
<p><img src="https://cloud.githubusercontent.com/assets/588473/16584612/04a82078-428b-11e6-9f79-a665eef848ea.gif" alt="recast"></p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"parserOpts"</span>: {
    <span class="hljs-attr">"parser"</span>: <span class="hljs-string">"recast"</span>
  },
  <span class="hljs-attr">"generatorOpts"</span>: {
    <span class="hljs-attr">"generator"</span>: <span class="hljs-string">"recast"</span>
  }
}
</code></pre>
<p>Babel as a compiler has 3 steps: parsing, transforming, and generation.</p>
<p>At a high level, the process is:</p>
<ul>
<li>parsing: take a string (input code) and turn it into JSON.</li>
<li>transforming (plugins): take JSON and make a different JSON structure)</li>
<li>code generation: turn the JSON back into a string (output code).</li>
</ul>
<p>The last step of babel is the code generator. Traditionally, the code generator doesn't really need to care about the format of your code (spaces, quotes, etc). This is because the output code is your &quot;compiled&quot; code and will probably go in the dist directory, you will eventually minify it, etc.</p>
<p>But what if you want to write a babel plugin that runs on your source code and outputs to source (<code>babel src -d src</code> rather than <code>babel src -d lib</code>)? You would want your diff to be readable and for the plugin to only modify what is necessary by conforming to your style guide.</p>
<p>This is because you want to write a plugin that transforms the source itself. One use case is a project called <a href="https://github.com/mohebifar/lebab">lebab</a> which is actually just the opposite of babel (used to be called 5to6). Currently, <a href="https://github.com/mohebifar/lebab/issues/138">it isn't a babel plugin</a> so we wanted to help support that usecase.</p>
<p>Once <a href="https://github.com/benjamn/recast/pull/299">benjamn/recast#299</a> and <a href="https://github.com/benjamn/ast-types/pull/162">benjamn/ast-types#162</a> are merged you should be able to make your own codemods with Babel as well!</p>
<p><a href="https://github.com/babel/babel/pull/4542">#4542</a> Add support for preset organization shortcuts. (<a href="https://github.com/nkt">@nkt</a>)</p>
<pre><code class="hljs css language-js">{
  <span class="hljs-attr">presets</span>: [<span class="hljs-string">"@org/babel-preset-name"</span>], <span class="hljs-comment">// actual package</span>
  <span class="hljs-attr">presets</span>: [<span class="hljs-string">"@org/name"</span>] <span class="hljs-comment">// shorthand name</span>
}
</code></pre>
<p><a href="https://github.com/babel/babel/pull/4491">#4491</a> Add object rest spread <code>useBuiltIns</code> option. (<a href="https://github.com/hzoo">@hzoo</a>)</p>
<p><code>useBuiltIns</code> - Do not use Babel's helper's and just transform to use the built-in method (Disabled by default).</p>
<pre><code class="hljs css language-js">{
  <span class="hljs-string">"plugins"</span>: [
    [<span class="hljs-string">"transform-object-rest-spread"</span>, { <span class="hljs-string">"useBuiltIns"</span>: <span class="hljs-literal">true</span> }]
  ]
}

<span class="hljs-comment">// source</span>
z = { x, ...y };
<span class="hljs-comment">// compiled</span>
z = <span class="hljs-built_in">Object</span>.assign({ x }, y);
</code></pre>
<p><a href="https://github.com/babel/babel/pull/4561">#4561</a> <code>babel-code-frame</code>: add options for <code>linesBefore</code>, <code>linesAfter</code>. (<a href="https://github.com/hzoo">@hzoo</a>)</p>
<p><code>babel-code-frame</code> is a standalone package that we use in Babel when reporting errors.</p>
<p>Now there is an <a href="https://github.com/babel/babel/blob/master/packages/babel-code-frame/README.md#options">option</a> to specify the number of lines above and below the error</p>
<pre><code class="hljs css language-js">  <span class="hljs-number">1</span> | <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> </span>{
&gt; <span class="hljs-number">2</span> |   <span class="hljs-keyword">constructor</span>()
    |                ^
  3 | }
</code></pre>
<p><a href="https://github.com/babel/babel/pull/#3695">#3695</a> via <a href="https://github.com/babel/babel/pull/4566">#4566</a> Allow presets to be ES6 default exports (<a href="https://github.com/johanssj">@johanssj</a>)</p>
<p>We previously made presets with commonjs exports</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-built_in">require</span>(<span class="hljs-string">"babel-plugin-syntax-trailing-function-commas"</span>)
  ]
};
</code></pre>
<p>Now you can use export default as well</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> syntaxTrailingCommas <span class="hljs-keyword">from</span> <span class="hljs-string">"..."</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">plugins</span>: [
    syntaxTrailingCommas
  ]
};
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="-polish"></a><a href="#-polish" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>💅 Polish</h2>
<p><a href="https://github.com/babel/babel/pull/4572">#4572</a>, <a href="https://github.com/babel/babel/pull/4579">#4579</a> Improve syntax highlighting colors. (<a href="https://github.com/lydell">@lydell</a>)</p>
<p>Before</p>
<p><img width="611" alt="screen shot 2016-09-27 at 11 12 47 am" src="https://cloud.githubusercontent.com/assets/588473/18879735/6ba2820a-84a3-11e6-9e3f-fa8612620867.png"></p>
<p>After</p>
<p><img width="611" alt="screen shot 2016-09-27 at 3 50 02 pm" src="https://cloud.githubusercontent.com/assets/588473/18889266/38829f96-84ca-11e6-8a19-0a39e440a0d3.png"></p>
<h2><a class="anchor" aria-hidden="true" id="-notable-bug-fixes"></a><a href="#-notable-bug-fixes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>🐛 Notable Bug Fixes</h2>
<p><a href="https://github.com/babel/babel/pull/3686">#3686</a> Fix <code>typeof Symbol.prototype</code>. (<a href="https://github.com/brainlock">@brainlock</a>)</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// `typeof Symbol.prototype` should be 'object'</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Symbol</span>.prototype === <span class="hljs-string">'object'</span>
</code></pre>
<p><a href="https://github.com/babel/babel/pull/4507">#4507</a> Only set options in <code>babel-cli</code> if different from default. (<a href="https://github.com/danez">@danez</a>)</p>
<p>Fix an issue with defaults not being overridden. This was causing options like <code>comments: false</code> not to work correctly.</p>
<p><a href="https://github.com/babel/babel/pull/4524">#4524</a> Fix default export with arrows and function naming. (<a href="https://github.com/danharper">@danharper</a>)</p>
<pre><code class="hljs"><span class="hljs-comment">// this wasn't exporting correctly before</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ({ onClick }) =&gt; {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> onClick()}&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<p><a href="https://github.com/babel/babel/pull/4518">#4518</a> Fix default exported classes without a name. (<a href="https://github.com/danez">@danez</a>)</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> </span>{};
<span class="hljs-comment">// wasn't correctly transforming to</span>
exports[<span class="hljs-string">"default"</span>] = <span class="hljs-class"><span class="hljs-keyword">class</span> </span>{}
<span class="hljs-comment">// with the es3-transforms</span>
</code></pre>
<p><a href="https://github.com/babel/babel/pull/4521">#4521</a> Fix striping of <code>typeParameters</code> from arrow functions. (<a href="https://github.com/danez">@danez</a>)</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// &lt;X&gt; wasn't stripped out</span>
<span class="hljs-keyword">const</span> find = &lt;X&gt; (f: (x:X) =&gt; X, xs: Array&lt;X&gt;): ?X =&gt; (
  xs.reduce(((b, x) =&gt; b ? b : f(x) ? x : null), null)
)
</code></pre>
<p><a href="https://github.com/babel/babel/pull/4552">#4552</a> Fix destructuring evaluation with call expressions. (<a href="https://github.com/danez">@danez</a>)</p>
<p>We noticed that we can not make this optimizations if there are function calls or member expressions on the right hand side of the assignment since the function call or the member expression (which might be a getter with side-effect) could potentially change the variables we are assigning to.</p>
<pre><code class="hljs css language-js">[x, y] = [a(), obj.x];
<span class="hljs-comment">// was transforming to</span>
x = a();
y = obj.x;
<span class="hljs-comment">// now transforms to</span>
<span class="hljs-keyword">var</span> _ref = [a(), obj.x];
x = _ref[<span class="hljs-number">0</span>];
y = _ref[<span class="hljs-number">1</span>];
</code></pre>
<p><a href="https://github.com/babel/babel/pull/4587">#4587</a> Prevent flow-strip-types/flow-comments from removing entire ClassProperty. (<a href="https://github.com/danharper">@danharper</a>)</p>
<hr>
<p>Check out <a href="https://github.com/babel/babel/releases/tag/v6.16.0">Github</a> for the rest of the changelog!</p>
</span></div></div><div class="blogSocialSection"></div></div><div class="blog-recent"><a class="button" href="/blog/">Recent Posts</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#-spec-compliancy">👓 Spec Compliancy</a></li><li><a href="#-new-feature">🚀 New Feature</a></li><li><a href="#-polish">💅 Polish</a></li><li><a href="#-notable-bug-fixes">🐛 Notable Bug Fixes</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/babel.svg" alt="Babel 中文文档" width="66" height="58"/></a><div><h5>文档</h5><a href="/docs/en/learn.html">学习 ES2015</a></div><div><h5>社区</h5><a href="/en/videos.html">视频</a><a href="/en/users.html">用户</a><a href="http://stackoverflow.com/questions/tagged/babeljs" rel="noopener noreferrer" target="_blank">Stack Overflow</a><a href="https://babeljs.slack.com/">Slack 频道</a><a href="https://twitter.com/babeljs" rel="noopener noreferrer" target="_blank">Twitter</a></div><div><h5>更多</h5><a href="/blog">博客</a><a href="https://github.com/babel">GitHub Org</a><a href="https://github.com/babel/babel">GitHub Repo</a><a href="https://github.com/babel/website">Website Repo</a><a href="https://old.babeljs.io">旧版网址 6.x</a><a href="http://henryzoo.com/babel.github.io">旧版网址 5.x</a></div></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'c774535d6e962c2bca4c05c5068f39f4',
                indexName: 'babeljs_cn',
                inputSelector: '#search_input_react'
              });
            </script></body></html>