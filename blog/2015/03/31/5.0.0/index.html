<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>5.0.0 Released · Babel 中文文档</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="In the past few months Babel has been welcomed into several major communities"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="5.0.0 Released · Babel 中文文档"/><meta property="og:type" content="website"/><meta property="og:url" content="https://babel.docschina.org/blog/2015/03/31/5.0.0"/><meta property="og:description" content="In the past few months Babel has been welcomed into several major communities"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow.min.css"/><link rel="alternate" type="application/atom+xml" href="https://babel.docschina.org/blog/atom.xml" title="Babel 中文文档 Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://babel.docschina.org/blog/feed.xml" title="Babel 中文文档 Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-114990275-1', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="/scripts/hmt.js" defer=""></script><script type="text/javascript" src="https://unpkg.com/clipboard@2.0.0/dist/clipboard.min.js" defer=""></script><script type="text/javascript" src="/js/code-blocks-buttons.js" defer=""></script><script type="text/javascript" src="/scripts/repl-page-hacks.js" defer=""></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/babel.svg" alt="Babel 中文文档"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://docschina.org/" target="_self">印记中文</a></li><li class=""><a href="/docs/en/" target="_self">文档</a></li><li class=""><a href="/setup" target="_self">配置</a></li><li class=""><a href="/repl" target="_self">试用</a></li><li class=""><a href="/videos" target="_self">视频</a></li><li class="siteNavGroupActive"><a href="/blog/" target="_self">博客</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://opencollective.com/babel" target="_self">赞助</a></li><li class=""><a href="/team" target="_self">团队</a></li><li class=""><a href="https://github.com/babel/babel" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>All Blog Posts</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">All Blog Posts</h3><ul class=""><li class="navListItem"><a class="navItem" href="/blog/2021/02/22/7.13.0">7.13.0 Released: Records and Tuples, granular compiler assumptions, and top-level targets</a></li><li class="navListItem"><a class="navItem" href="/blog/2020/10/15/7.12.0">7.12.0 Released: TypeScript 4.1, strings as import/export names, and class static blocks</a></li><li class="navListItem"><a class="navItem" href="/blog/2020/07/30/7.11.0">7.11.0 Released: ECMAScript 2021 support in preset-env, TypeScript 4.0 support, printing config and the future of `babel-eslint`</a></li><li class="navListItem"><a class="navItem" href="/blog/2020/07/13/the-state-of-babel-eslint">The State of babel-eslint</a></li><li class="navListItem"><a class="navItem" href="/blog/2020/05/25/7.10.0">7.10.0 Released: Class Fields in preset-env, &#x27;#private in&#x27; checks and better React tree-shaking</a></li><li class="navListItem"><a class="navItem" href="/blog/2020/03/16/7.9.0">7.9.0 Released: Smaller preset-env output, Typescript 3.8 support and a new JSX transform</a></li><li class="navListItem"><a class="navItem" href="/blog/2020/01/11/7.8.0">7.8.0 Released: ECMAScript 2020, .mjs configuration files and @babel/cli improvements</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/11/08/babels-funding-plans">Babel&#x27;s Funding Plans</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/11/05/7.7.0">7.7.0 Released: Error recovery and TypeScript 3.7</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/09/05/7.6.0">7.6.0 Released: Private static accessors and V8 intrinsic syntax</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/07/03/7.5.0">7.5.0 Released: dynamic import and F# pipelines</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/07/02/the-babel-podcast">The Babel Podcast</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/03/19/7.4.0">7.4.0 Released: core-js 3, static private methods and partial application</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/01/21/7.3.0">7.3.0 Released: Named capturing groups, private instance accessors and smart pipelines</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/12/03/7.2.0">7.2.0 发布：私有实例方法（Private Instance Methods）</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/09/17/decorators">在 Babel 中支持 TC39 标准的装饰器</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/09/17/7.1.0">7.1.0 Released: Decorators, Private Static Fields</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/08/27/7.0.0">Babel 7 发布</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/07/27/removing-babels-stage-presets">Removing Babel&#x27;s Stage Presets</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/07/19/whats-happening-with-the-pipeline-proposal">What&#x27;s Happening With the Pipeline (|&gt;) Proposal?</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/07/16/announcing-babels-new-partnership-with-trivago">Announcing Babel&#x27;s New Partnership with trivago!</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/06/26/on-consuming-and-publishing-es2015+-packages">On Consuming (and Publishing) ES2015+ Packages</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/12/27/nearing-the-7.0-release">Nearing the 7.0 Release</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/10/05/babel-turns-three">Babel Turns Three</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/09/12/planning-for-7.0">Planning for 7.0</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/09/11/zero-config-with-babel-macros">Zero-config code transformation with babel-plugin-macros</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/08/16/gsoc-karl-1">Contributing to Babel: Three Lessons to Remember</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/08/11/gsoc-peey-1">Personal Experiences at Babel #1 — A PR with Unusually High Number of Reviews</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/08/09/babel-and-summer-of-code">Babel and Summer of Code 2017</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/03/01/upgrade-to-babel-7">Upgrade to Babel 7 (moved)</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/03/01/upgrade-to-babel-7-for-tool-authors">Upgrade to Babel 7 for Tool Authors (WIP)</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/02/13/6.23.0">6.23.0 Released</a></li><li class="navListItem"><a class="navItem" href="/blog/2016/12/07/the-state-of-babel">The State of Babel</a></li><li class="navListItem"><a class="navItem" href="/blog/2016/11/16/6.19.0">6.19.0 Released</a></li><li class="navListItem"><a class="navItem" href="/blog/2016/10/24/6.18.0">6.18.0 Released</a></li><li class="navListItem"><a class="navItem" href="/blog/2016/09/28/6.16.0">6.16.0 Released</a></li><li class="navListItem"><a class="navItem" href="/blog/2016/08/26/babili">Babili (babel-minify)</a></li><li class="navListItem"><a class="navItem" href="/blog/2016/08/24/6.14.0">6.14.0 Released</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/11/03/babel-doctor">Babel Doctor</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/10/31/setting-up-babel-6">Setting up Babel 6</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/10/29/6.0.0">6.0.0 Released</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/07/07/react-on-es6-plus">React on ES6+</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/05/14/function-bind">Function Bind Syntax</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/blog/2015/03/31/5.0.0">5.0.0 Released</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/02/23/babel-loves-react">Babel 喜爱 React</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/02/15/not-born-to-die">并非出生而逐渐走向灭亡</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/01/27/2to3">2to3</a></li><li class="navListItem"><a class="navItem" href="/blog/2015/01/12/6to5-esnext">6to5 + esnext</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer postContainer blogContainer"><div class="wrapper"><div class="lonePost"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/blog/2015/03/31/5.0.0">5.0.0 Released</a></h1><p class="post-meta">March 31, 2015</p><div class="authorBlock"><p class="post-authorName"><a href="https://twitter.com/sebmck" target="_blank" rel="noreferrer noopener">Sebastian McKenzie</a></p></div></header><div><span><p>In the past few months Babel has been welcomed into several major communities
such as Node, React, Ember, Backbone, Angular, Rails, and many others. We
launched the <a href="/users">Users page</a> only a few weeks ago and it's really cool to
see everyone that is using it. Companies like CloudFlare, Netflix, Mozilla, and
Yahoo!. Projects like Ghost, Atom, Mapbox, and so many more.</p>
<p>We've seen tons of blog posts, talks, events, courses all about ES6+ using
Babel, and official Babel tools have been downloaded nearly 2 million times.</p>
<p>Today we are making by far the largest release of Babel ever.</p>
<!--truncate-->
<p><strong>If you're upgrading from Babel 4.x please see the
<a href="#breaking-changes">breaking changes</a></strong>.</p>
<p>This release includes the new ES7 proposals:</p>
<ul>
<li><a href="https://github.com/wycats/javascript-decorators">Decorators</a></li>
<li><a href="https://gist.github.com/jeffmo/054df782c05639da2adb">Class properties</a></li>
<li><a href="https://github.com/leebyron/ecmascript-more-export-from">Export extensions</a></li>
</ul>
<p>The entire internal traversal and transformation pipeline has undergone a
rewrite that substantially increases flexibility and will allow many future
pipeline performance optimisations.</p>
<p>This release also brings a plugin API, this allows consumers to plug in their
own custom transformers to utilise the powerful transformation mechanisms that
Babel has to offer.</p>
<p>You can view the complete CHANGELOG
<a href="https://github.com/babel/babel/blob/master/CHANGELOG.md#500">here</a>.</p>
<p>And as usual <strong>if you run into any regressions please report them immediately</strong>.</p>
<h3><a class="anchor" aria-hidden="true" id="tc39-process"></a><a href="#tc39-process" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>TC39 Process</h3>
<p>In this release you'll start to see us aligned with the
<a href="https://docs.google.com/document/d/1QbEE0BsO4lvl7NFTn5WXWeiEIBfaVUF7Dk0hpPpPDzU">TC39 process</a>.
The TC39 is the technical committee from ECMA that writes the ECMAScript
standard. Their process is categorised into 5 stages:</p>
<ul>
<li>Stage 0 - Strawman</li>
<li>Stage 1 - Proposal</li>
<li>Stage 2 - Draft</li>
<li>Stage 3 - Candidate</li>
<li>Stage 4 - Finished</li>
</ul>
<p>Proposals that are <strong>stage 2 or above</strong> are enabled in Babel by default. Now
this does not mean that they're guaranteed to be included in future ECMAScript
specifications or even Babel itself. Stage 2 is considered a good point for
inclusion by default in Babel due to their relative maturity and need for
critical proposal feedback.</p>
<p>Now let's dive into the changes we made to 5.0.</p>
<hr>
<p><strong>Contents:</strong></p>
<ul>
<li><a href="#new-features">New Features</a>
<ul>
<li><a href="#new-proposals">New Proposals</a>
<ul>
<li><a href="#stage-0:-class-properties">Stage 0: Class Properties</a></li>
<li><a href="#stage-1:-decorators">Stage 1: Decorators</a></li>
<li><a href="#stage-1:-export-extensions">Stage 1: Export Extensions</a></li>
</ul></li>
<li><a href="#react-optimisations">React Optimisations</a>
<ul>
<li><a href="#constant-elements">Constant Elements</a></li>
<li><a href="#inline-elements">Inline Elements</a></li>
</ul></li>
<li><a href="#babelrc">.babelrc</a></li>
<li><a href="#plugin-api">Plugin API</a></li>
</ul></li>
<li><a href="#breaking-changes">Breaking Changes</a>
<ul>
<li><a href="#experimental-option">Experimental Option</a></li>
<li><a href="#class-changes">Class Changes</a></li>
<li><a href="#removed-features">Removed Features</a></li>
<li><a href="#imports-are-now-hoisted">imports are now hoisted</a></li>
</ul></li>
</ul>
<p><h1 id="new-features" class="babel-blog-section-title">New Features</h1></p>
<h2><a class="anchor" aria-hidden="true" id="new-proposals"></a><a href="#new-proposals" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>New Proposals</h2>
<h3><a class="anchor" aria-hidden="true" id="stage-0-class-properties"></a><a href="#stage-0-class-properties" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Stage 0: Class Properties</h3>
<p><a href="https://github.com/jeffmo">Jeff Morrison's</a> stage 0
<a href="https://gist.github.com/jeffmo/054df782c05639da2adb">class property initializers proposal</a>
fills the void of property composition on classes. These are analogous with the
class properties example listed in the
<a href="https://facebook.github.io/react/blog/2015/01/27/react-v0.13.0-beta-1.html#es7-property-initializers">React 0.13 beta announcement</a>.</p>
<p><strong>Example:</strong></p>
<pre><code class="hljs css language-js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>{
  firstName = <span class="hljs-string">"Sebastian"</span>;
  <span class="hljs-keyword">static</span> lastName = <span class="hljs-string">"McKenzie"</span>;
}

assert(<span class="hljs-keyword">new</span> Person().firstName, <span class="hljs-string">"Sebastian"</span>);
assert(Person.lastName, <span class="hljs-string">"McKenzie"</span>);
</code></pre>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">require</span>(<span class="hljs-string">"babel"</span>).transform(<span class="hljs-string">"code"</span>, {
  <span class="hljs-attr">optional</span>: [<span class="hljs-string">"es7.classProperties"</span>]
});
<span class="hljs-comment">// or</span>
<span class="hljs-built_in">require</span>(<span class="hljs-string">"babel"</span>).transform(<span class="hljs-string">"code"</span>, { <span class="hljs-attr">stage</span>: <span class="hljs-number">0</span> });
</code></pre>
<pre><code class="hljs css language-sh">$ babel --optional es7.classProperties script.js
<span class="hljs-comment"># or</span>
$ babel --stage 0 script.js
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="stage-1-decorators"></a><a href="#stage-1-decorators" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Stage 1: Decorators</h3>
<p><a href="https://github.com/wycats">Yehuda Katz'</a> stage 1
<a href="https://github.com/wycats/javascript-decorators">decorators proposal</a> allows
you to elegantly compose property descriptors and metadata decoration. In the
future this will allow the powerful
<a href="http://guides.emberjs.com/v1.10.0/object-model/classes-and-instances/">Ember Object Model</a>
to easily be represented with native classes.</p>
<p><strong>Example:</strong></p>
<pre><code class="hljs css language-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">concat</span>(<span class="hljs-params">...args</span>) </span>{
  <span class="hljs-keyword">let</span> sep = args.pop();

  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">target, key, descriptor</span>) </span>{
    descriptor.initializer = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">return</span> args.map(<span class="hljs-function"><span class="hljs-params">arg</span> =&gt;</span> <span class="hljs-keyword">this</span>[arg]).join(sep);
    }
  }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">autobind</span>(<span class="hljs-params">target, key, descriptor</span>) </span>{
  <span class="hljs-keyword">var</span> fn = descriptor.value;
  <span class="hljs-keyword">delete</span> descriptor.value;
  <span class="hljs-keyword">delete</span> descriptor.writable;
  descriptor.get = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> bound = fn.bind(<span class="hljs-keyword">this</span>);
    <span class="hljs-built_in">Object</span>.defineProperty(<span class="hljs-keyword">this</span>, key, {
      <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">value</span>: bound
    });
    <span class="hljs-keyword">return</span> bound;
  };
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>{
  firstName = <span class="hljs-string">"Sebastian"</span>;
  lastName = <span class="hljs-string">"McKenzie"</span>;

  @concat(<span class="hljs-string">"firstName"</span>, <span class="hljs-string">"lastName"</span>, <span class="hljs-string">" "</span>) fullName;
  @concat(<span class="hljs-string">"lastName"</span>, <span class="hljs-string">"firstName"</span>, <span class="hljs-string">", "</span>) formalName;

  @autobind
  getFullName() {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-keyword">this</span>.firstName}</span> <span class="hljs-subst">${<span class="hljs-keyword">this</span>.lastName}</span>`</span>;
  }
}

assert(<span class="hljs-keyword">new</span> Person().fullName, <span class="hljs-string">"Sebastian McKenzie"</span>);
assert(<span class="hljs-keyword">new</span> Person().formalName, <span class="hljs-string">"McKenzie, Sebastian"</span>);
assert(<span class="hljs-keyword">new</span> Person().getFullName.call(<span class="hljs-literal">null</span>), <span class="hljs-string">"Sebastian McKenzie"</span>);
</code></pre>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">require</span>(<span class="hljs-string">"babel"</span>).transform(<span class="hljs-string">"code"</span>, {
  <span class="hljs-attr">optional</span>: [<span class="hljs-string">"es7.decorators"</span>]
});
<span class="hljs-comment">// or</span>
<span class="hljs-built_in">require</span>(<span class="hljs-string">"babel"</span>).transform(<span class="hljs-string">"code"</span>, { <span class="hljs-attr">stage</span>: <span class="hljs-number">1</span> });
</code></pre>
<pre><code class="hljs css language-sh">$ babel --optional es7.decorators script.js
<span class="hljs-comment"># or</span>
$ babel --stage 1 script.js
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="stage-1-export-extensions"></a><a href="#stage-1-export-extensions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Stage 1: Export Extensions</h3>
<p><a href="https://github.com/leebyron">Lee Byron's</a> stage 1
<a href="https://github.com/leebyron/ecmascript-more-export-from">additional export-from statements proposal</a>
completes the symmetry between import and export statement, allowing you to
easily export namespaces and defaults from external modules without
modifying the local scope.</p>
<p><strong>Exporting a default</strong></p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">export</span> foo <span class="hljs-keyword">from</span> <span class="hljs-string">"bar"</span>;
</code></pre>
<p>equivalent to:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> _foo <span class="hljs-keyword">from</span> <span class="hljs-string">"bar"</span>;
<span class="hljs-keyword">export</span> { _foo <span class="hljs-keyword">as</span> foo };
</code></pre>
<p><strong>Exporting a namespace</strong></p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">export</span> * <span class="hljs-keyword">as</span> ns <span class="hljs-keyword">from</span> <span class="hljs-string">"mod"</span>;
</code></pre>
<p>equivalent to:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> _ns <span class="hljs-keyword">from</span> <span class="hljs-string">"mod"</span>;
<span class="hljs-keyword">export</span> { _ns <span class="hljs-keyword">as</span> ns };
</code></pre>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">require</span>(<span class="hljs-string">"babel"</span>).transform(<span class="hljs-string">"code"</span>, {
  <span class="hljs-attr">optional</span>: [<span class="hljs-string">"es7.exportExtensions"</span>]
});
<span class="hljs-comment">// or</span>
<span class="hljs-built_in">require</span>(<span class="hljs-string">"babel"</span>).transform(<span class="hljs-string">"code"</span>, { <span class="hljs-attr">stage</span>: <span class="hljs-number">1</span> });
</code></pre>
<pre><code class="hljs css language-sh">$ babel --optional es7.exportExtensions script.js
<span class="hljs-comment"># or</span>
$ babel --stage 1 script.js
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="react-optimisations"></a><a href="#react-optimisations" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>React Optimisations</h2>
<p>In preparation for React 0.14, Babel supports some optimisation transformers for
JSX.</p>
<h3><a class="anchor" aria-hidden="true" id="constant-elementshttpsgithubcomfacebookreactissues3226"></a><a href="#constant-elementshttpsgithubcomfacebookreactissues3226" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="https://github.com/facebook/react/issues/3226">Constant Elements</a></h3>
<p>Starting with 0.14 ReactElements and their props objects can be treated as
value types. i.e. any instance is conceptually equivalent if all their values
are the same.</p>
<p>Take this function for example:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"foo"</span> /&gt;</span></span>;
}
</code></pre>
<p>This can be optimized by moving the JSX out of the function body so that each
time it is called the same instance is returned:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">var</span> _ref = <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"foo"</span> /&gt;</span></span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> _ref;
}
</code></pre>
<p>Not only does it allow us to reuse the same objects, React will automatically
bail out any reconciliation of constant components - without a manual
<code>shouldComponentUpdate</code>.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-javascript"><span class="hljs-built_in">require</span>(<span class="hljs-string">"babel"</span>).transform(<span class="hljs-string">"code"</span>, {
  <span class="hljs-attr">optional</span>: [<span class="hljs-string">"optimisation.react.constantElements"</span>]
});
</code></pre>
<pre><code class="hljs css language-sh">$ babel --optional optimisation.react.constantElements script.js
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="inline-elementshttpsgithubcomfacebookreactissues3228"></a><a href="#inline-elementshttpsgithubcomfacebookreactissues3228" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="https://github.com/facebook/react/issues/3228">Inline Elements</a></h3>
<blockquote class="babel-callout babel-callout-warning">
  <h4>Production only</h4>
  <p>
    Inline Elements should <strong>only</strong> be enabled in production as
    multiple React warning messages are suppressed which is extremely risky
    in development.
  </p>
</blockquote>
<p>Starting with React 0.14 ReactElements can be inlined:</p>
<pre><code class="hljs css language-javascript">&lt;div className="foo"&gt;{bar}&lt;Baz key="baz" /&gt;&lt;/div&gt;
</code></pre>
<p>as objects:</p>
<pre><code class="hljs css language-javascript">{ <span class="hljs-attr">type</span>: <span class="hljs-string">'div'</span>, <span class="hljs-attr">props</span>: { <span class="hljs-attr">className</span>: <span class="hljs-string">'foo'</span>, <span class="hljs-attr">children</span>:
  [ bar, { <span class="hljs-attr">type</span>: Baz, <span class="hljs-attr">props</span>: { }, <span class="hljs-attr">key</span>: <span class="hljs-string">'baz'</span>, <span class="hljs-attr">ref</span>: <span class="hljs-literal">null</span> } ]
}, <span class="hljs-attr">key</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">ref</span>: <span class="hljs-literal">null</span> }
</code></pre>
<p>This improves performance over the existing <code>React.createElement</code> call by
inlining the result of it.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-javascript"><span class="hljs-built_in">require</span>(<span class="hljs-string">"babel"</span>).transform(<span class="hljs-string">"code"</span>, {
  <span class="hljs-attr">optional</span>: [<span class="hljs-string">"optimisation.react.inlineElements"</span>]
});
</code></pre>
<pre><code class="hljs css language-sh">$ babel --optional optimisation.react.inlineElements script.js
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="babelrc"></a><a href="#babelrc" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.babelrc</h2>
<p>Babel 5.0.0 has support for <code>.babelrc</code> out of the box across its <strong>entire</strong>
range of integrations. This means that it will work across
<a href="/docs/usage/register"><code>babel/register</code></a>,
<a href="/docs/usage/cli#babel-node"><code>babel-node</code></a> as well as across the entire range
of build system plugins and module loaders such as
<a href="https://github.com/babel/babel-loader"><code>babel-loader</code></a>,
<a href="https://github.com/babel/babelify"><code>babelify</code></a>, and others.</p>
<p><code>.babelrc</code> is equivalent to JSHint's <a href="http://jshint.com/docs/"><code>.jshintrc</code></a> and
JSCS' <a href="http://jscs.info/overview.html"><code>.jscsrc</code></a>.</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"stage"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">"ignore"</span>: [
    <span class="hljs-string">"foo.js"</span>,
    <span class="hljs-string">"bar/**/*.js"</span>
  ]
}
</code></pre>
<p>See the <a href="/docs/usage/babelrc">docs</a> for more info.</p>
<h2><a class="anchor" aria-hidden="true" id="plugin-api"></a><a href="#plugin-api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Plugin API</h2>
<p>5.0.0 also introduces the long anticipated plugin API. This allows you to hook
into the powerful traversal and transformation internals of Babel. See the
<a href="/docs/usage/plugins">docs</a> for more info.</p>
<p><h1 id="breaking-changes" class="babel-blog-section-title">Breaking Changes</h1></p>
<h3><a class="anchor" aria-hidden="true" id="experimental-option"></a><a href="#experimental-option" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Experimental Option</h3>
<p>The <code>experimental</code> option has been <strong>removed</strong>. Fear not though, there is a
replacement. Babel now categories the ES7 transformers by
<a href="#tc39-changes">TC39 stages</a>.</p>
<p>tl;dr If you're using the <code>experimental</code> option, simply change it to
<code>$ babel --stage 0</code> or <code>{ stage: 0 }</code>.</p>
<blockquote>
<p><strong>Reminder:</strong> Proposals that are <strong>stage 2 or above</strong> are enabled by default.</p>
</blockquote>
<p><strong>Stage 0</strong></p>
<ul>
<li><code>es7.classProperties</code></li>
<li><code>es7.comprehensions</code></li>
</ul>
<p><strong>Stage 1</strong></p>
<ul>
<li><code>es7.asyncFunctions</code></li>
<li><code>es7.decorators</code></li>
<li><code>es7.exportExtensions</code></li>
<li><code>es7.objectRestSpread</code></li>
</ul>
<p><strong>Stage 2</strong> (Stage 2 and above are enabled by default)</p>
<ul>
<li><code>es7.exponentiationOperator</code></li>
</ul>
<p>For a list of all current ES7 proposals please see the
<a href="https://github.com/tc39/ecma262">tc39/ecma262 repo</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="returnusedhelpers-option"></a><a href="#returnusedhelpers-option" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>returnUsedHelpers</code> option</h3>
<p>The <code>returnUsedHelpers</code> option has been renamed to <code>metadataUsedHelpers</code> and the returning result
object has been changed from <code>usedHelpers</code> to <code>metadata.usedHelpers</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="class-changes"></a><a href="#class-changes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Class Changes</h3>
<p>5.0.0 introduces some updated derived class semantics that are long overdue.</p>
<p><code>super()</code> <strong>must</strong> be called in a derived class constructor.</p>
<pre><code class="hljs css language-js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Bar</span> </span>{
  <span class="hljs-keyword">constructor</span>() {
    <span class="hljs-comment">// no `super();`</span>
  }
}
</code></pre>
<p>Access to <code>this</code> before <code>super()</code> in a derived class constructor is <strong>not</strong>
allowed.</p>
<pre><code class="hljs css language-js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Bar</span> </span>{
  <span class="hljs-keyword">constructor</span>() {
    <span class="hljs-keyword">this</span>.foo; <span class="hljs-comment">// `this` access before `super();`</span>
    <span class="hljs-keyword">super</span>();
  }
}
</code></pre>
<p><code>super()</code> is <strong>only</strong> allowed in derived class constructors.</p>
<pre><code class="hljs css language-js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> </span>{
  <span class="hljs-keyword">constructor</span>() {
    <span class="hljs-keyword">super</span>(); <span class="hljs-comment">// not in a derived constructor</span>
  }
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="removed-features"></a><a href="#removed-features" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Removed Features</h2>
<ul>
<li>The playground has been removed so development can be focussed on mainstream
ES features and proposals. This also reduces the risk of syntactic conflicts
preventing certain official features from being implemented.</li>
<li><a href="https://github.com/zenparsing/es-abstract-refs">Abstract references</a> have
been removed as the proposal has been superseded. Support for one or more of the
superseding proposals may be implemented in the future.</li>
</ul>
<hr>
<p>In closing, we hope that you are now as excited about this release as we are.
There's a lot that went into it, and we believe this will set us up for a long
time into the future.</p>
<p class="text-right">— The Babel team</p>
<h2><a class="anchor" aria-hidden="true" id="imports-are-now-hoisted"></a><a href="#imports-are-now-hoisted" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Imports are now hoisted</h2>
<p>In <code>4.x</code>, imports were inlined as where they appeared in the code. Which means that this code:</p>
<pre><code class="hljs"><span class="hljs-built_in">global</span>.test = <span class="hljs-string">'test'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./test'</span>
</code></pre>
<p>would compile to:</p>
<pre><code class="hljs"><span class="hljs-meta">'use strict'</span>;

global.test = <span class="hljs-string">'test'</span>;
<span class="hljs-built_in">require</span>(<span class="hljs-string">'./test'</span>);
</code></pre>
<p>However, from <code>5.x</code> on, this behaviour has been changed in order to comply with the ES6 spec and <em><a href="https://gitter.im/babel/babel?at=5525474d80f7bb0315a369ce">imports will</a> <a href="https://stackoverflow.com/questions/29329662/are-es6-module-imports-hoisted">now be hoisted</a></em>. What this means in practical code is that the snippet above will get converted to something like:</p>
<pre><code class="hljs"><span class="hljs-meta">'use strict'</span>;

<span class="hljs-built_in">require</span>(<span class="hljs-string">'./test'</span>);
global.test = <span class="hljs-string">'test'</span>;
</code></pre>
<p>If your code required certain bits and pieces to be executed in between a specific module being imported -which might be the case while testing code and you need to fake some <code>window</code> properties :)- you may want to extract that away into its own file and import it before the code that needs it.</p>
</span></div></div><div class="blogSocialSection"></div></div><div class="blog-recent"><a class="button" href="/blog/">Recent Posts</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#new-proposals">New Proposals</a><ul class="toc-headings"><li><a href="#stage-0-class-properties">Stage 0: Class Properties</a></li><li><a href="#stage-1-decorators">Stage 1: Decorators</a></li><li><a href="#stage-1-export-extensions">Stage 1: Export Extensions</a></li></ul></li><li><a href="#react-optimisations">React Optimisations</a><ul class="toc-headings"><li><a href="#constant-elementshttpsgithubcomfacebookreactissues3226"><a href="https://github.com/facebook/react/issues/3226">Constant Elements</a></a></li><li><a href="#inline-elementshttpsgithubcomfacebookreactissues3228"><a href="https://github.com/facebook/react/issues/3228">Inline Elements</a></a></li></ul></li><li><a href="#babelrc">.babelrc</a></li><li><a href="#plugin-api">Plugin API</a><ul class="toc-headings"><li><a href="#experimental-option">Experimental Option</a></li><li><a href="#returnusedhelpers-option"><code>returnUsedHelpers</code> option</a></li><li><a href="#class-changes">Class Changes</a></li></ul></li><li><a href="#removed-features">Removed Features</a></li><li><a href="#imports-are-now-hoisted">Imports are now hoisted</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/babel.svg" alt="Babel 中文文档" width="66" height="58"/></a><div><h5>文档</h5><a href="/docs/en/learn.html">学习 ES2015</a></div><div><h5>社区</h5><a href="/en/videos.html">视频</a><a href="/en/users.html">用户</a><a href="http://stackoverflow.com/questions/tagged/babeljs" rel="noopener noreferrer" target="_blank">Stack Overflow</a><a href="https://babeljs.slack.com/">Slack 频道</a><a href="https://twitter.com/babeljs" rel="noopener noreferrer" target="_blank">Twitter</a></div><div><h5>更多</h5><a href="/blog">博客</a><a href="https://github.com/babel">GitHub Org</a><a href="https://github.com/babel/babel">GitHub Repo</a><a href="https://github.com/babel/website">Website Repo</a><a href="https://old.babeljs.io">旧版网址 6.x</a><a href="http://henryzoo.com/babel.github.io">旧版网址 5.x</a></div></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'c774535d6e962c2bca4c05c5068f39f4',
                indexName: 'babeljs_cn',
                inputSelector: '#search_input_react'
              });
            </script></body></html>